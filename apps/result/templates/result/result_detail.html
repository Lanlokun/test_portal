{% extends 'base.html' %}

{% block title %}Transcript - {{ student }}{% endblock title %}

{% block content %}
  <div class="container">
    <hr>
    {% if no_results_message %}
      <p>{{ no_results_message }}</p>
    {% else %}
      {% with structured_results.items as sessions %}
        {% for session, semesters in sessions %}
          <h2>Session: {{ session }}</h2>
          <hr>
          {% for semester, results in semesters.items %}
            <h3>Semester: {{ semester }}</h3>
            <table class="table table-bordered">
              <thead>
                <tr>
                  <th>Course</th>
                  <th>Test Score</th>
                  <th>Exam Score</th>
                  <th>Total Score</th>
                  <th>Grade</th>
                </tr>
              </thead>
              <tbody>
                {% for student_result in results %}
                  <tr>
                    <td>{{ student_result.course }}</td>
                    <td>{{ student_result.test_score }}</td>
                    <td>{{ student_result.exam_score }}</td>
                    <td>{{ student_result.total_score }}</td>
                    <td>{{ student_result.grade }}</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
            <hr>
          {% endfor %}
        {% endfor %}
      {% endwith %}
    {% endif %}
    <a href="{% url 'view-results' %}" class="btn btn-primary">Back to Results List</a>
  </div>
{% endblock content %}
